<template>
    <div class="bg-white p-4 rounded-lg shadow max-w-xl mx-auto mt-8">
      <h2 class="text-xl font-semibold mb-4">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h2>
  
      <div class="flex items-center mb-3">
        <button
          v-for="star in 5"
          :key="star"
          @click="rating = star"
          class="text-2xl focus:outline-none"
          :class="star <= rating ? 'text-yellow-400' : 'text-gray-300'"
        >
          ‚òÖ
        </button>
        <span class="ml-2 text-sm text-gray-600">
          {{ rating > 0 ? `${rating} –∏–∑ 5` : '–ë–µ–∑ –æ—Ü–µ–Ω–∫–∏' }}
        </span>
      </div>
  
      <textarea
        v-model="text"
        placeholder="–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º –æ–ø—ã—Ç–æ–º..."
        class="w-full h-28 p-2 border border-gray-300 rounded resize-none mb-2"
      ></textarea>
  
      <div class="text-right text-sm text-gray-500 mb-3">
        {{ text.length }} / 1000 —Å–∏–º–≤–æ–ª–æ–≤
      </div>
  
      <button
        @click="submitReview"
        class="bg-pink-500 text-white px-4 py-2 rounded hover:bg-pink-600 transition"
      >
        –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤
      </button>
    </div>
  </template>
  
  <script setup>
  import { ref } from 'vue'
  
  const rating = ref(0)
  const text = ref('')
  
  function submitReview() {
    if (text.value.length < 85) {
      alert('–û—Ç–∑—ã–≤ –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 85 —Å–∏–º–≤–æ–ª–æ–≤.')
      return
    }
  
    // üëá –∑–¥–µ—Å—å –æ—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∑—ã–≤–∞ –Ω–∞ backend —á–µ—Ä–µ–∑ fetch/axios
    console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–∑—ã–≤–∞:', {
      rating: rating.value,
      text: text.value
    })
  
    // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
    rating.value = 0
    text.value = ''
  }
  </script>
  